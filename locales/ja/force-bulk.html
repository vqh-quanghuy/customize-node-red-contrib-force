<script type="text/x-red" data-help-name="force-bulk in">
    <p>force.com bulk処理ノード。<code>Operation</code>で選択した以下の処理を実行します。</p>
    <ul>
      <li>検索</li>
      <li>作成(レコード単位)</li>
      <li>作成(CSV一括)</li>
      <li>更新</li>
      <li>作成/更新</li>
      <li>削除</li>
    </ul>

    <h3>入力</h3>
      <dl class="message-properties">
        <dt class="optional">payload
          <span class="property-type">文字列 | 配列</span>
        </dt>
        <dd> 選択した処理を実行するデータを入力します。 </dd>
      </dl>

    <h3>出力</h3>
      <dl class="message-properties">
        <dt>payload <span class="property-type">配列 | オブジェクト</span></dt>
        <dd>選択した処理の実行結果を出力します。</dd>
      </dl>

    <h3>詳細</h3>
    <h4>検索</h4>
      <p> <code>msg.payload</code>で受け取ったSOQLクエリにて検索を実行します。受信可能なプロパティタイプは<code>文字列</code>です。 </p>
      <p> <code>msg.payload = "select Id, Name from Account";</code> </p>
      <p> <code>Sobject</code>にデータを検索するオブジェクトのオブジェクト名(API参照名)を設定します。</p>
      <p> <code>Local Filename</code>に出力するCSVファイル名を指定します。ファイル名は相対パス、絶対パスどちらでも可能です。</p>
      <p>取得した検索結果のCSVファイルを作成し、指定されたファイルへ出力します。また、ファイルを出力した旨のメッセージを<code>msg.payload</code>に格納して出力します。</p>

    <h4>作成(レコード単位): </h4>
      <p> <code>msg.payload</code>で受け取ったjsonオブジェクトデータをもとに設定したオブジェクトにデータを新規作成します。受信可能なプロパティタイプは<code>配列</code>です。 </p>
      <p> <code>msg.payload = [{Name: 'hoge'},{Name: 'fuga'}];</code> </p>
      <p> <code>Sobject</code>にデータを作成するオブジェクトのオブジェクト名(API参照名)を設定します。</p>
      <p> <code>API Polling Timeout</code>にポーリングタイムアウトをミリ秒で設定します。</p>
      <p>作成の実行結果は<code>msg.payload</code>にjsonオブジェクトにて格納して出力します。</p>

    <h4>作成(CSV単位): </h4>
      <p> <code>Local Filename</code>に設定されたファイルを読み込み、設定したオブジェクトにデータを新規作成します。</p>
      <p> <code>Sobject</code>にデータを作成するオブジェクトのオブジェクト名(API参照名)を設定します。</p>
      <p> <code>API Polling Timeout</code>にポーリングタイムアウトをミリ秒で設定します。</p>
      <p> <code>Local Filename</code>に作成するデータのCSVファイル名を指定します。ファイル名は相対パス、絶対パスどちらでも可能です。</p>
      <p>作成の実行結果は<code>msg.payload</code>にjsonオブジェクトにて格納して出力します。</p>

    <h4>更新: </h4>
      <p> <code>Local Filename</code>に設定されたファイルを読み込み、設定したオブジェクトのデータを更新します。</p>
      <p> <code>Sobject</code>にデータを更新するオブジェクトのオブジェクト名(API参照名)を設定します。</p>
      <p> <code>API Polling Timeout</code>にポーリングタイムアウトをミリ秒で設定します。</p>
      <p> <code>Local Filename</code>に更新するデータのCSVファイル名を指定します。ファイル名は相対パス、絶対パスどちらでも可能です。</p>
      <p>更新の実行結果は<code>msg.payload</code>にjsonオブジェクトにて格納して出力します。</p>

    <h4>作成/更新: </h4>
      <p> <code>Local Filename</code>に設定されたファイルを読み込み、設定したオブジェクトのデータを新規作成または更新します。</p>
      <p> <code>Sobject</code>にデータを作成または更新するオブジェクトのオブジェクト名(API参照名)を設定します。</p>
      <p> <code>External ID field name</code>にデータの作成または更新を判定するキーとなる外部ID項目の項目名(API参照名)を設定します。</p>
      <p> <code>API Polling Timeout</code>にポーリングタイムアウトをミリ秒で設定します。</p>
      <p> <code>Local Filename</code>に作成または更新するデータのCSVファイル名を指定します。ファイル名は相対パス、絶対パスどちらでも可能です。</p>
      <p>作成/更新の実行結果は<code>msg.payload</code>にjsonオブジェクトにて格納して出力します。</p>

    <h4>削除: </h4>
      <p> <code>Local Filename</code>に設定されたファイルを読み込み、設定したオブジェクトのデータを削除します。</p>
      <p> <code>Sobject</code>にデータを削除するオブジェクトのオブジェクト名(API参照名)を設定します。</p>
      <p> <code>API Polling Timeout</code>にポーリングタイムアウトをミリ秒で設定します。</p>
      <p> <code>Local Filename</code>に削除するデータのCSVファイル名を指定します。ファイル名は相対パス、絶対パスどちらでも可能です。</p>
      <p>削除の実行結果は<code>msg.payload</code>にjsonオブジェクトにて格納して出力します。</p>

</script>
